<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Motor Driver - Robotics Workshop</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Motor Driver";
        var mkdocs_page_input_path = "02_Actuators\\motor_driver\\README.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Robotics Workshop
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Getting Started</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../00_Getting_started/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Arduino</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../00_Getting_started/Arduino/">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../00_Getting_started/Arduino/serial_print/">Serial Print</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../00_Getting_started/Arduino/serial_plotter/">Serial Plotter</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../00_Getting_started/Arduino/serial_input/">Serial Input</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../00_Getting_started/Arduino/putting_everything_together/">Putting everything together</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../00_Getting_started/LEDs/">LEDs</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Sensors</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../01_Sensors/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Distance</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../01_Sensors/Distance/VL53L0X_ToF/">VL53L0X ToF</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >IMU</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../01_Sensors/MPU_6050/">MPU 6050</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Electricity</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../03_Power/">Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Actuators</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../">Overview</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Motor Driver</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#objective">Objective</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#components-needed">Components Needed</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#key-learning-points">Key Learning Points</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#steps-to-follow">Steps to Follow</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#expected-outcomes">Expected Outcomes</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#prerequisites">Prerequisites</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#safety-notes">Safety Notes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#theory-input">Theory Input</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#simplified-example-code">Simplified Example Code</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#wiring-instructions">Wiring Instructions:</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#additional-tasks">Additional Tasks</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#task-1-change-the-motor-speed">Task 1: Change the Motor Speed</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#task-2-execute-a-turn">Task 2: Execute a Turn</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#theory-behind-pulse-width-modulation-pwm">Theory Behind Pulse Width Modulation (PWM)</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#key-concepts">Key Concepts</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#how-pwm-controls-motor-speed">How PWM Controls Motor Speed</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#benefits-of-using-pwm">Benefits of Using PWM</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pwm-in-arduino">PWM in Arduino</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Communication</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../04_Communication/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Protocols</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../04_Communication/I2C/">I2C</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >nRF</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../04_Communication/nRF/">Overview</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../04_Communication/remote/">Remote</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Assembly</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../05_Assembly/receiver/">Receiver</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../05_Assembly/transmitter/">Transmitter</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Drive</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../06_Drive/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../06_Drive/tof_roomba/">Roomba_build</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../06_Drive/receiver_code/">Receiver</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../06_Drive/transmitter_code/">Transmitter</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Transition to Drone</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../07_Robo_Drone/">Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Outlook</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../08_Outlook/">Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Help</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../09_Help/">Troubleshooting</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Robotics Workshop</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Actuators</li>
      <li class="breadcrumb-item active">Motor Driver</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="l298-motor-driver-and-n20-gear-motor-tutorial-with-arduino-nano-and-9v-battery">L298 Motor Driver and N20 Gear Motor Tutorial with Arduino Nano and 9V Battery<a class="headerlink" href="#l298-motor-driver-and-n20-gear-motor-tutorial-with-arduino-nano-and-9v-battery" title="Permanent link">&para;</a></h1>
<p><img alt="L298_motor_driver" src="../../99_Resources/images/l298n_pinout.png" /></p>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>In this tutorial, we will learn how to control N20 motors using an L298 motor driver and Arduino Nano. This guide covers the essential components, wiring setup, and programming to help you get started with motor control.</p>
<h3 id="objective">Objective<a class="headerlink" href="#objective" title="Permanent link">&para;</a></h3>
<ul>
<li>Learn how to control N20 motors using an L298 motor driver and Arduino.</li>
</ul>
<h3 id="components-needed">Components Needed<a class="headerlink" href="#components-needed" title="Permanent link">&para;</a></h3>
<ul>
<li>Arduino Uno</li>
<li>L298 Motor Driver</li>
<li>N20 Motors (2x)</li>
<li>Breadboard</li>
<li>Jumper wires</li>
<li>9V battery with connector</li>
<li>9V battery clip</li>
</ul>
<h3 id="key-learning-points">Key Learning Points<a class="headerlink" href="#key-learning-points" title="Permanent link">&para;</a></h3>
<ul>
<li>Understand the wiring and connection setup for controlling motors.</li>
<li>Write Arduino code to control motor speed and direction.</li>
<li>Utilize the L298 motor driver to interface between Arduino and N20 motors.</li>
</ul>
<h3 id="steps-to-follow">Steps to Follow<a class="headerlink" href="#steps-to-follow" title="Permanent link">&para;</a></h3>
<ol>
<li>Connect the L298 motor driver to the Arduino.</li>
<li>Connect the N20 motors to the L298 motor driver.</li>
<li>Make necessary power connections with the 9V battery.</li>
<li>Upload and execute the Arduino code to test motor control.</li>
</ol>
<h3 id="expected-outcomes">Expected Outcomes<a class="headerlink" href="#expected-outcomes" title="Permanent link">&para;</a></h3>
<ul>
<li>Successfully control the movement (forward, backward, left turn, right turn) of two N20 motors.</li>
<li>Adjust motor speed using the enable pins on the L298 motor driver.</li>
</ul>
<h3 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h3>
<ul>
<li>Basic understanding of Arduino programming.</li>
<li>Familiarity with breadboard and basic electronics.</li>
</ul>
<h3 id="safety-notes">Safety Notes<a class="headerlink" href="#safety-notes" title="Permanent link">&para;</a></h3>
<ul>
<li>Ensure all connections are secure to prevent short circuits.</li>
<li>Be cautious with the 9V battery to avoid rapid depletion and overheating.</li>
</ul>
<h2 id="theory-input">Theory Input<a class="headerlink" href="#theory-input" title="Permanent link">&para;</a></h2>
<p>The L298 motor driver is an integrated circuit that allows you to control the speed and direction of two DC motors. It uses H-bridge circuits to control the motors. By adjusting the PWM (Pulse Width Modulation) signals on the enable pins, you can control the speed of the motors. The direction is controlled by setting the IN1, IN2, IN3, and IN4 pins to HIGH or LOW.</p>
<h2 id="simplified-example-code">Simplified Example Code<a class="headerlink" href="#simplified-example-code" title="Permanent link">&para;</a></h2>
<p>Here's a simplified example to get you started with basic motor control:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// Motor A connections</span>
<span class="cp">#define enA 3</span>
<span class="cp">#define in1 4</span>
<span class="cp">#define in2 5</span>

<span class="c1">// Motor B connections</span>
<span class="cp">#define enB 9</span>
<span class="cp">#define in3 8</span>
<span class="cp">#define in4 7</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Set all the motor control pins to outputs</span>
<span class="w">  </span><span class="n">pinMode</span><span class="p">(</span><span class="n">enA</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span>
<span class="w">  </span><span class="n">pinMode</span><span class="p">(</span><span class="n">in1</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span>
<span class="w">  </span><span class="n">pinMode</span><span class="p">(</span><span class="n">in2</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span>
<span class="w">  </span><span class="n">pinMode</span><span class="p">(</span><span class="n">enB</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span>
<span class="w">  </span><span class="n">pinMode</span><span class="p">(</span><span class="n">in3</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span>
<span class="w">  </span><span class="n">pinMode</span><span class="p">(</span><span class="n">in4</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Turn off motors - Initial state</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in1</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in2</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in3</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in4</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Move forward</span>
<span class="w">  </span><span class="n">moveForward</span><span class="p">();</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span><span class="w"> </span><span class="c1">// Move forward for 2 seconds</span>

<span class="w">  </span><span class="c1">// Move backward</span>
<span class="w">  </span><span class="n">moveBackward</span><span class="p">();</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span><span class="w"> </span><span class="c1">// Move backward for 2 seconds</span>

<span class="w">  </span><span class="c1">// Stop</span>
<span class="w">  </span><span class="n">stopMotors</span><span class="p">();</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span><span class="w"> </span><span class="c1">// Stop for 2 seconds</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">moveForward</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Motor A forward</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in1</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in2</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Motor B forward</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in3</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in4</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Set speed</span>
<span class="w">  </span><span class="n">analogWrite</span><span class="p">(</span><span class="n">enA</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">);</span><span class="w"> </span><span class="c1">// Max speed for Motor A</span>
<span class="w">  </span><span class="n">analogWrite</span><span class="p">(</span><span class="n">enB</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">);</span><span class="w"> </span><span class="c1">// Max speed for Motor B</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">moveBackward</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Motor A backward</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in1</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in2</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Motor B backward</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in3</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in4</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Set speed</span>
<span class="w">  </span><span class="n">analogWrite</span><span class="p">(</span><span class="n">enA</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">);</span><span class="w"> </span><span class="c1">// Max speed for Motor A</span>
<span class="w">  </span><span class="n">analogWrite</span><span class="p">(</span><span class="n">enB</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">);</span><span class="w"> </span><span class="c1">// Max speed for Motor B</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">stopMotors</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Turn off motors</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in1</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in2</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in3</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in4</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p><img alt="alt text" src="image.png" /></p>
<h3 id="wiring-instructions">Wiring Instructions:<a class="headerlink" href="#wiring-instructions" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Connect the L298 Motor Driver to the Arduino:</strong></li>
<li>Connect <code>EN A</code> (Enable A) of L298 to Arduino <code>pin 3</code>.</li>
<li>Connect <code>IN1</code> of L298 to Arduino <code>pin 4</code>.</li>
<li>Connect <code>IN2</code> of L298 to Arduino <code>pin 5</code>.</li>
<li>Connect <code>EN B</code> (Enable B) of L298 to Arduino <code>pin 9</code>.</li>
<li>Connect <code>IN3</code> of L298 to Arduino <code>pin 7</code>.</li>
<li>
<p>Connect <code>IN4</code> of L298 to Arduino <code>pin 8</code>.</p>
</li>
<li>
<p><strong>Connect the Motors:</strong></p>
</li>
<li>Connect the first N20 motor to <code>OUT1</code> and <code>OUT2</code> of L298.</li>
<li>
<p>Connect the second N20 motor to <code>OUT3</code> and <code>OUT4</code> of L298.</p>
</li>
<li>
<p><strong>Power Connections:</strong></p>
</li>
<li>Connect the <code>12V</code> terminal of L298 to the positive terminal of the 9V battery.</li>
<li>
<p>Connect the <code>GND</code> terminal of L298 to the negative terminal of the 9V battery and also to the GND of the Arduino.</p>
</li>
<li>
<p><strong>Connect the 5V and GND:</strong></p>
</li>
<li>Connect <code>5V</code> of L298 to the <code>5V</code> pin of the Arduino.</li>
<li>Ensure the GND of L298, Arduino, and the 9V battery are all connected together.</li>
</ol>
<h2 id="additional-tasks">Additional Tasks<a class="headerlink" href="#additional-tasks" title="Permanent link">&para;</a></h2>
<h3 id="task-1-change-the-motor-speed">Task 1: Change the Motor Speed<a class="headerlink" href="#task-1-change-the-motor-speed" title="Permanent link">&para;</a></h3>
<details>
<summary>Objective</summary>
Modify the motor speed using PWM (Pulse Width Modulation).
</details>

<details>
<summary>Instructions</summary>
1. In the existing code, adjust the `analogWrite` value on the `enA` and `enB` pins to control the motor speed.
2. Experiment with different values (0-255) to observe the speed changes.
</details>

<details>
<summary>Code Example</summary>


<div class="codehilite"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Move forward at half speed</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in1</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in2</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">  </span><span class="n">analogWrite</span><span class="p">(</span><span class="n">enA</span><span class="p">,</span><span class="w"> </span><span class="mi">128</span><span class="p">);</span><span class="w">  </span><span class="c1">// Half speed</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in3</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in4</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">  </span><span class="n">analogWrite</span><span class="p">(</span><span class="n">enB</span><span class="p">,</span><span class="w"> </span><span class="mi">128</span><span class="p">);</span><span class="w">  </span><span class="c1">// Half speed</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span><span class="w">            </span><span class="c1">// Run for 2 seconds</span>

<span class="w">  </span><span class="c1">// Stop motors</span>
<span class="w">  </span><span class="n">stopMotors</span><span class="p">();</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span><span class="w">            </span><span class="c1">// Stop for 1 second</span>

<span class="w">  </span><span class="c1">// Move backward at quarter speed</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in1</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in2</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<span class="w">  </span><span class="n">analogWrite</span><span class="p">(</span><span class="n">enA</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span><span class="w">   </span><span class="c1">// Quarter speed</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in3</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in4</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<span class="w">  </span><span class="n">analogWrite</span><span class="p">(</span><span class="n">enB</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span><span class="w">   </span><span class="c1">// Quarter speed</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span><span class="w">            </span><span class="c1">// Run for 2 seconds</span>

<span class="w">  </span><span class="c1">// Stop motors</span>
<span class="w">  </span><span class="n">stopMotors</span><span class="p">();</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span><span class="w">            </span><span class="c1">// Stop for 1 second</span>
<span class="p">}</span>
</code></pre></div>



</details>

<details>
<summary>Hint</summary>
Use `analogWrite(enA, speed)` and `analogWrite(enB, speed)` to control the speed, where `speed` ranges from 0 to 255.
</details>

<h3 id="task-2-execute-a-turn">Task 2: Execute a Turn<a class="headerlink" href="#task-2-execute-a-turn" title="Permanent link">&para;</a></h3>
<details>
<summary>Objective</summary>
Execute a turn by controlling the speed and direction of two motors.
</details>

<details>
<summary>Instructions</summary>
1. To turn, one motor should run forward while the other runs backward.
2. Adjust the speed and duration to make a smooth turn.
</details>

<details>
<summary>Code Example</summary>


<div class="codehilite"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Move forward</span>
<span class="w">  </span><span class="n">moveForward</span><span class="p">();</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span><span class="w"> </span><span class="c1">// Move forward for 2 seconds</span>

<span class="w">  </span><span class="c1">// Turn right</span>
<span class="w">  </span><span class="n">turnRight</span><span class="p">();</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span><span class="w"> </span><span class="c1">// Turn right for 1 second</span>

<span class="w">  </span><span class="c1">// Move forward</span>
<span class="w">  </span><span class="n">moveForward</span><span class="p">();</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span><span class="w"> </span><span class="c1">// Move forward for 2 seconds</span>

<span class="w">  </span><span class="c1">// Stop</span>
<span class="w">  </span><span class="n">stopMotors</span><span class="p">();</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span><span class="w"> </span><span class="c1">// Stop for 1 second</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">turnRight</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Motor A forward</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in1</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in2</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">  </span><span class="n">analogWrite</span><span class="p">(</span><span class="n">enA</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">);</span><span class="w">  </span><span class="c1">// Full speed</span>

<span class="w">  </span><span class="c1">// Motor B backward</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in3</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in4</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<span class="w">  </span><span class="n">analogWrite</span><span class="p">(</span><span class="n">enB</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">);</span><span class="w">  </span><span class="c1">// Full speed</span>
<span class="p">}</span>
</code></pre></div>



</details>

<details>
<summary>Hint</summary>
Set one motor to run forward and the other to run backward to execute a turn.
</details>

<p>These simplified tasks will help you understand how to control motor speed, connect multiple motors, and execute turns with the L298 motor driver and Arduino Nano. Experiment with different values and configurations to fully explore the capabilities of your setup. Happy tinkering!</p>
<hr />
<h2 id="theory-behind-pulse-width-modulation-pwm">Theory Behind Pulse Width Modulation (PWM)<a class="headerlink" href="#theory-behind-pulse-width-modulation-pwm" title="Permanent link">&para;</a></h2>
<p>Pulse Width Modulation (PWM) is a technique used to control the amount of power delivered to an electrical device by switching the power supply on and off at a rapid rate. In the context of motor control, PWM allows you to adjust the speed of a motor by varying the duty cycle of the signal applied to it.</p>
<h3 id="key-concepts">Key Concepts<a class="headerlink" href="#key-concepts" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Duty Cycle</strong>:</li>
<li>The duty cycle of a PWM signal is the percentage of one period in which the signal is high (on). It is defined as:</li>
</ol>
<p><img alt="alt text" src="image-1.png" /></p>
<ul>
<li>
<p>For example, a 50% duty cycle means the signal is on for half the period and off for the other half.</p>
</li>
<li>
<p><strong>Frequency</strong>:</p>
</li>
<li>The frequency of a PWM signal is the rate at which the PWM cycles repeat per second. It is measured in Hertz (Hz).</li>
<li>
<p>A higher frequency results in smoother motor operation as the motor receives power more frequently.</p>
</li>
<li>
<p><strong>Period</strong>:</p>
</li>
<li>The period of a PWM signal is the inverse of the frequency. It represents the duration of one complete cycle of the PWM signal.</li>
</ul>
<h3 id="how-pwm-controls-motor-speed">How PWM Controls Motor Speed<a class="headerlink" href="#how-pwm-controls-motor-speed" title="Permanent link">&para;</a></h3>
<p>By varying the duty cycle of the PWM signal applied to a motor's control pin, you can effectively control the average voltage and power delivered to the motor. Here's how it works:</p>
<ul>
<li><strong>High Duty Cycle</strong>:</li>
<li>
<p>A high duty cycle (e.g., 80%) means the signal is on for 80% of the time and off for 20% of the time. This results in the motor receiving more power and running faster.</p>
</li>
<li>
<p><strong>Low Duty Cycle</strong>:</p>
</li>
<li>A low duty cycle (e.g., 20%) means the signal is on for 20% of the time and off for 80% of the time. This results in the motor receiving less power and running slower.</li>
</ul>
<h3 id="benefits-of-using-pwm">Benefits of Using PWM<a class="headerlink" href="#benefits-of-using-pwm" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Efficiency</strong>:</li>
<li>
<p>PWM is highly efficient because it reduces power losses that occur in other methods of power control. When the switch is off, almost no power is consumed.</p>
</li>
<li>
<p><strong>Smooth Control</strong>:</p>
</li>
<li>
<p>PWM allows for smooth control of motor speed without introducing significant noise or vibration.</p>
</li>
<li>
<p><strong>Heat Reduction</strong>:</p>
</li>
<li>By efficiently controlling the power, PWM reduces the amount of heat generated by the motor driver and the motor itself.</li>
</ol>
<h3 id="pwm-in-arduino">PWM in Arduino<a class="headerlink" href="#pwm-in-arduino" title="Permanent link">&para;</a></h3>
<p>In Arduino, PWM is implemented using the <code>analogWrite</code> function. The <code>analogWrite</code> function generates a PWM signal on specified pins with a default frequency of approximately 490 Hz (for most pins).</p>
<p>Here’s an example of using PWM to control motor speed in Arduino:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// Motor connections</span>
<span class="cp">#define enA 3</span>
<span class="cp">#define in1 4</span>
<span class="cp">#define in2 5</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Set all the motor control pins to outputs</span>
<span class="w">  </span><span class="n">pinMode</span><span class="p">(</span><span class="n">enA</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span>
<span class="w">  </span><span class="n">pinMode</span><span class="p">(</span><span class="n">in1</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span>
<span class="w">  </span><span class="n">pinMode</span><span class="p">(</span><span class="n">in2</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Move motor forward at 50% speed</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in1</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">in2</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">  </span><span class="n">analogWrite</span><span class="p">(</span><span class="n">enA</span><span class="p">,</span><span class="w"> </span><span class="mi">128</span><span class="p">);</span><span class="w">  </span><span class="c1">// 50% duty cycle</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span><span class="w">            </span><span class="c1">// Run for 2 seconds</span>

<span class="w">  </span><span class="c1">// Move motor forward at full speed</span>
<span class="w">  </span><span class="n">analogWrite</span><span class="p">(</span><span class="n">enA</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">);</span><span class="w">  </span><span class="c1">// 100% duty cycle</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span><span class="w">            </span><span class="c1">// Run for 2 seconds</span>

<span class="w">  </span><span class="c1">// Move motor forward at 25% speed</span>
<span class="w">  </span><span class="n">analogWrite</span><span class="p">(</span><span class="n">enA</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span><span class="w">   </span><span class="c1">// 25% duty cycle</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span><span class="w">            </span><span class="c1">// Run for 2 seconds</span>

<span class="w">  </span><span class="c1">// Stop motor</span>
<span class="w">  </span><span class="n">analogWrite</span><span class="p">(</span><span class="n">enA</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w">    </span><span class="c1">// 0% duty cycle</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span><span class="w">            </span><span class="c1">// Stop for 2 seconds</span>
<span class="p">}</span>
</code></pre></div>

<p>In this example:
- <code>analogWrite(enA, 128);</code> sets a 50% duty cycle, resulting in half the maximum speed.
- <code>analogWrite(enA, 255);</code> sets a 100% duty cycle, resulting in full speed.
- <code>analogWrite(enA, 64);</code> sets a 25% duty cycle, resulting in quarter speed.
- <code>analogWrite(enA, 0);</code> sets a 0% duty cycle, stopping the motor.</p>
<p>By understanding and utilizing PWM, you can precisely control the speed and behavior of your motors in an efficient and effective manner.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../" class="btn btn-neutral float-left" title="Overview"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../../04_Communication/" class="btn btn-neutral float-right" title="Overview">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../04_Communication/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
